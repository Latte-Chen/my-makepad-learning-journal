makepad_draw::shader::draw_quad Live DSL
"DrawQuad ={{dummy}}{varying pos :vec2 fn clip_and_transform_vertex(self ,rect_pos :vec2 ,rect_size :vec2) ->vec4{let clipped :vec2 =clamp(self .geom_pos *rect_size +rect_pos ,self .draw_clip .xy ,self .draw_clip .zw) self .pos =(clipped -rect_pos)/rect_size return self .camera_projection *(self .camera_view *(self .view_transform *vec4(clipped .x ,clipped .y ,self .draw_depth +self .draw_zbias ,1.)))} fn transform_vertex(self ,rect_pos :vec2 ,rect_size :vec2) ->vec4{let clipped :vec2 =self .geom_pos *rect_size +rect_pos ;self .pos =(clipped -rect_pos)/rect_size return self .camera_projection *(self .camera_view *(self .view_transform *vec4(clipped .x ,clipped .y ,self .draw_depth +self .draw_zbias ,1.)))} fn vertex(self) ->vec4{return self .clip_and_transform_vertex(self .rect_pos ,self .rect_size)} fn pixel(self) ->vec4{return #f0f}}"